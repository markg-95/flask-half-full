{% extends 'base.html' %}

{% block center_content %}
    <h1 class="general_title">Index Page</h1>
    <p>This is <a href="#">FlaskHalfFull</a>. Do what you will with it.</p>
    <div id="ajax_example">Data is getting fetched from the API...</div>
    <div id="data_example"></div>

    <script>
    $(document).ready(function() {
       ajax_example();
    });

    function ajax_example(){
        let example_id = 24;
        $.ajax({
           url: '/api_example2',
           data: {
               id: `${example_id}` // unused in this API call, but shows how to pass data.
           },
           success: function(response){
                let keys = Object.keys(response);
                let values = Object.values(response);
                document.getElementById('ajax_example').innerHTML = `<p>${values[0]}</p>`;
           },
           error: function(error){
               console.log(error);
           }
        });
    }
    </script>
{% endblock %}
